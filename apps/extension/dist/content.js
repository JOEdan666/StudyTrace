function s(){const o=document.querySelectorAll('script, style, noscript, iframe, svg, canvas, video, audio, nav, footer, header, aside, .ad, .advertisement, .sidebar, [role="navigation"], [role="banner"], [role="complementary"]'),r=document.body.cloneNode(!0);o.forEach(e=>{const n=e.tagName.toLowerCase()+(e.className?"."+Array.from(e.classList).join("."):"")+(e.id?"#"+e.id:"");r.querySelectorAll(n).forEach(a=>a.remove())});let t=r.innerText||r.textContent||"";return t=t.replace(/\s+/g," ").replace(/\n\s*\n/g,`
`).trim(),t}chrome.runtime.onMessage.addListener((o,r,t)=>{if(o.action==="extractText"){const e=s();t({text:e})}return!0});
